---
title: Servers API
description: Server management endpoints for StellarStack
---

# Servers API

Manage game servers through the API.

## List Servers

Get all servers accessible to the current user.

```http
GET /api/v1/servers
```

### Query Parameters

| Parameter | Type | Description |
|-----------|------|-------------|
| `page` | number | Page number (default: 1) |
| `limit` | number | Items per page (default: 20) |
| `status` | string | Filter by status |
| `nodeId` | string | Filter by node |

### Response

```json
{
  "data": [
    {
      "id": "server_xxxxx",
      "name": "My Minecraft Server",
      "status": "running",
      "node": {
        "id": "node_xxxxx",
        "name": "US West 1"
      },
      "blueprint": {
        "id": "minecraft-java",
        "name": "Minecraft: Java Edition"
      },
      "resources": {
        "memory": 2048,
        "cpu": 100,
        "disk": 10240
      },
      "createdAt": "2024-01-01T00:00:00Z"
    }
  ],
  "meta": {
    "total": 5,
    "page": 1,
    "limit": 20
  }
}
```

## Get Server

Get details for a specific server.

```http
GET /api/v1/servers/:id
```

### Response

```json
{
  "data": {
    "id": "server_xxxxx",
    "name": "My Minecraft Server",
    "status": "running",
    "node": {
      "id": "node_xxxxx",
      "name": "US West 1",
      "hostname": "node-us-west.example.com"
    },
    "blueprint": {
      "id": "minecraft-java",
      "name": "Minecraft: Java Edition"
    },
    "resources": {
      "memory": 2048,
      "cpu": 100,
      "disk": 10240
    },
    "allocation": {
      "ip": "192.168.1.100",
      "port": 25565
    },
    "variables": {
      "SERVER_MEMORY": "2048",
      "VERSION": "1.20.4",
      "TYPE": "PAPER"
    },
    "metrics": {
      "cpu": 45.2,
      "memory": 1024,
      "disk": 5120,
      "uptime": 86400
    },
    "createdAt": "2024-01-01T00:00:00Z",
    "updatedAt": "2024-01-01T12:00:00Z"
  }
}
```

## Create Server

Create a new server.

```http
POST /api/v1/servers
```

### Request

```json
{
  "name": "My Minecraft Server",
  "nodeId": "node_xxxxx",
  "blueprintId": "minecraft-java",
  "memory": 2048,
  "cpu": 100,
  "disk": 10240,
  "variables": {
    "VERSION": "1.20.4",
    "TYPE": "PAPER"
  }
}
```

### Response

```json
{
  "data": {
    "id": "server_xxxxx",
    "name": "My Minecraft Server",
    "status": "installing",
    "createdAt": "2024-01-01T00:00:00Z"
  }
}
```

## Update Server

Update server configuration.

```http
PATCH /api/v1/servers/:id
```

### Request

```json
{
  "name": "Updated Server Name",
  "memory": 4096,
  "variables": {
    "MAX_PLAYERS": "50"
  }
}
```

### Response

```json
{
  "data": {
    "id": "server_xxxxx",
    "name": "Updated Server Name",
    "updatedAt": "2024-01-01T12:00:00Z"
  }
}
```

## Delete Server

Delete a server permanently.

```http
DELETE /api/v1/servers/:id
```

### Response

```json
{
  "success": true
}
```

## Power Actions

### Start Server

```http
POST /api/v1/servers/:id/start
```

### Stop Server

```http
POST /api/v1/servers/:id/stop
```

### Restart Server

```http
POST /api/v1/servers/:id/restart
```

### Kill Server

Force terminate a server.

```http
POST /api/v1/servers/:id/kill
```

### Response (all power actions)

```json
{
  "success": true,
  "status": "starting"
}
```

## Console Token

Get a token for WebSocket console access.

```http
GET /api/v1/servers/:id/console-token
```

### Response

```json
{
  "data": {
    "token": "strk_console_xxxxx",
    "nodeHost": "node-us-west.example.com",
    "nodePort": 5000,
    "expiresAt": "2024-01-01T00:05:00Z",
    "permissions": {
      "canRead": true,
      "canWrite": true
    }
  }
}
```

## Backups

### List Backups

```http
GET /api/v1/servers/:id/backups
```

### Create Backup

```http
POST /api/v1/servers/:id/backups
```

#### Request

```json
{
  "name": "Pre-update backup",
  "ignore": ["logs/*"]
}
```

### Restore Backup

```http
POST /api/v1/servers/:id/backups/:backupId/restore
```

### Delete Backup

```http
DELETE /api/v1/servers/:id/backups/:backupId
```

## Schedules

### List Schedules

```http
GET /api/v1/servers/:id/schedules
```

### Create Schedule

```http
POST /api/v1/servers/:id/schedules
```

#### Request

```json
{
  "name": "Daily Restart",
  "cron": "0 4 * * *",
  "action": "power",
  "payload": {
    "action": "restart"
  },
  "enabled": true
}
```

### Update Schedule

```http
PATCH /api/v1/servers/:id/schedules/:scheduleId
```

### Delete Schedule

```http
DELETE /api/v1/servers/:id/schedules/:scheduleId
```

## Subusers

### List Subusers

```http
GET /api/v1/servers/:id/users
```

### Add Subuser

```http
POST /api/v1/servers/:id/users
```

#### Request

```json
{
  "email": "subuser@example.com",
  "permissions": [
    "server.view",
    "server.console",
    "server.console.send",
    "server.start",
    "server.stop",
    "server.restart"
  ]
}
```

### Update Subuser

```http
PATCH /api/v1/servers/:id/users/:userId
```

### Remove Subuser

```http
DELETE /api/v1/servers/:id/users/:userId
```
